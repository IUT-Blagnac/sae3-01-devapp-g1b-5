CREATE OR REPLACE TRIGGER MAJ_QTE_BONBON
BEFORE INSERT OR UPDATE OR DELETE
ON CONTIENTBONBON
FOR EACH ROW
DECLARE
BEGIN
    IF(INSERTING OR UPDATING) THEN
        FOR tuple IN(SELECT * FROM CONTIENTBONBON
                    WHERE IDPANIER = :NEW.IDPANIER)
        LOOP
        IF(:NEW.IDB = tuple.IDB) THEN
            UPDATE CONTIENTBONBON
            SET QUANTITEKG = QUANTITEKG + :NEW.QUANTITEKG;
        END IF;
        END LOOP;
    END IF;
END;
/